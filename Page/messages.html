<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Messages - AgriSense Admin</title>
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <div class="topbar">
    <div class="brand"><span>ğŸŒ¾</span> AgriSense Admin</div>
  </div>
  <div class="page-wrap">
    <aside class="sidebar">
      <div class="brand"><span>ğŸŒ¾</span> AgriSense Admin</div>
      <nav class="nav">
        <a href="admin_dashboard.html">ğŸ  Dashboard</a>
        <a href="farmers_add.html">ğŸ‘¨â€ğŸŒ¾ Add Farmers</a>
        <a href="policies_post.html">ğŸ“œ Post New Policy</a>
        <a href="policies_manage.html">ğŸ—‚ï¸ Manage Policies</a>
        <a href="market_vegetables.html">ğŸ¥• Market Prices (Vegetables)</a>
        <a href="market_tools_fertilizers.html">ğŸ› ï¸ Market Prices (Tools & Fertilizers)</a>
        <a href="weather.html">â˜€ï¸ Weather (7 Days)</a>
        <a href="questionnaire.html">â“ Questionnaire</a>
        <a href="messages.html">âœ‰ï¸ Messages</a>
        <a href="../Login Code/Gov/admin_login.html">ğŸšª Log Out</a>
      </nav>
    </aside>
    <main class="content">
      <div class="header">
        <h1>Messages</h1>
        <a class="btn btn-outline" href="admin_dashboard.html">Back</a>
      </div>
      <section class="card tile">
        <ul id="messageList" style="list-style:none; padding-left:0; display:grid; gap:10px;">
          <li class="card tile">
            <strong>Ram Shrestha</strong>
            <span class="muted">"Need help with seed selection for spring."</span>
            <div><button class="btn btn-outline" onclick="reply(this)">Reply</button></div>
          </li>
          <li class="card tile">
            <strong>Sita Rai</strong>
            <span class="muted">"What are the latest subsidy updates?"</span>
            <div><button class="btn btn-outline" onclick="reply(this)">Reply</button></div>
          </li>
        </ul>
      </section>
      <section class="card tile" style="margin-top:16px;">
        <h3>Compose Message</h3>
        <form class="form" id="composeForm">
          <div class="row">
            <input class="input" name="recipient" placeholder="Recipient Name" required>
            <input class="input" name="subject" placeholder="Subject" required>
          </div>
          <textarea class="textarea" name="body" placeholder="Message body" required></textarea>
          <div><button class="btn" type="submit">Send</button></div>
        </form>
      </section>
    </main>
  </div>
  <script>
    function reply(btn){
      const li = btn.closest('li');
      const name = li.querySelector('strong').textContent;
      alert('Reply to '+name+' (demo). Hook into messaging backend.');
    }
    document.getElementById('composeForm').addEventListener('submit', function(e){
      e.preventDefault();
      const fd = new FormData(this);
      const li = document.createElement('li');
      li.className = 'card tile';
      li.innerHTML = `
        <strong>${fd.get('recipient')}</strong>
        <span class="muted">"${fd.get('subject')}: ${fd.get('body')}"</span>
        <div><button class="btn btn-outline" onclick="reply(this)">Reply</button></div>
      `;
      document.getElementById('messageList').prepend(li);
      this.reset();
    });
  </script>
</body>
</html>
